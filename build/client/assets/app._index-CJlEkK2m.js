import{r as n,j as e}from"./index-D3fv15Yl.js";import{G as v}from"./index-S99HxTLI.js";import{a as j}from"./components-DF02m5MT.js";function C(){const{apiKey:g}=j(),[i,x]=n.useState({brandName:"",shopifyUrl:""}),[o,u]=n.useState({identity:!1,audit:!1,editor:!1}),[a,d]=n.useState({}),[l,b]=n.useState(""),[m,h]=n.useState("trust"),f=new v(g).getGenerativeModel({model:"gemini-2.0-flash"}),c=async r=>{if(r!=="editor"&&!i.shopifyUrl)return alert("Please enter a Shop URL first.");if(r==="editor"&&!l)return alert("Please enter text to edit.");u(t=>({...t,[r]:!0}));try{let t="";r==="identity"?t=`Analyze the e-commerce store at ${i.shopifyUrl}. Return a JSON object with: { "summary": "1 sentence summary", "targetAudience": "Who is it for?", "usp": "Unique Selling Point" }`:r==="audit"?t=`Act as a Google Merchant Center Investigator. Audit ${i.shopifyUrl} for "Misrepresentation" triggers (missing address, bad refund policy). Return JSON: { "trustAudit": [{ "issue": "Short title", "location": "Footer", "recommendation": "Fix..." }] }`:r==="editor"&&(t=`Act as a Copywriter. Rewrite this text for the goal "${m}". Input: "${l}". Return JSON: { "editedContent": "The rewritten text", "explanation": "Why this is better" }`);const y=(await f.generateContent(t)).response.text().replace(/```json|```/g,"").trim(),p=JSON.parse(y);r==="identity"&&d(s=>({...s,brandIdentity:p})),r==="audit"&&d(s=>({...s,trustAudit:p.trustAudit})),r==="editor"&&d(s=>({...s,contentEdits:[p,...s.contentEdits||[]]}))}catch(t){console.error(t),alert(`AI Error: ${t.message}`)}finally{u(t=>({...t,[r]:!1}))}};return e.jsxs("div",{className:"app-root",children:[e.jsx("style",{children:`
        @import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;600;700&family=Outfit:wght@500;800&family=JetBrains+Mono:wght@400&display=swap');
        :root { --bg-dark: #000; --card-bg: rgba(20,20,20,0.8); --primary: #a78bfa; --text-main: #fff; --text-muted: #9ca3af; --glass-border: rgba(255,255,255,0.1); }
        body { background: var(--bg-dark); color: var(--text-main); font-family: 'Plus Jakarta Sans', sans-serif; margin: 0; }
        .app-root { min-height: 100vh; display: flex; flex-direction: column; background-image: radial-gradient(circle at 10% 20%, rgba(167,139,250,0.08), transparent 40%); }
        .mission-control-layout { display: grid; grid-template-columns: 340px 1fr; height: 100vh; overflow: hidden; }
        
        /* Sidebar */
        .config-sidebar { background: rgba(10,10,12,0.6); backdrop-filter: blur(20px); border-right: 1px solid var(--glass-border); padding: 24px; display: flex; flex-direction: column; gap: 20px; }
        .sidebar-header h3 { font-family: 'Outfit', sans-serif; margin: 0; background: linear-gradient(135deg, #fff, #ccc); -webkit-background-clip: text; -webkit-text-fill-color: transparent; font-size: 1.2rem; }
        .input-row { display: flex; flex-direction: column; gap: 8px; }
        .input-row label { font-size: 0.75rem; text-transform: uppercase; letter-spacing: 0.05em; color: var(--text-muted); font-weight: 700; }
        .input-row input { background: rgba(0,0,0,0.3); border: 1px solid var(--glass-border); padding: 12px; border-radius: 8px; color: white; font-family: inherit; transition: 0.2s; }
        .input-row input:focus { border-color: var(--primary); outline: none; box-shadow: 0 0 0 2px rgba(167,139,250,0.2); }
        
        /* Main Board */
        .mission-board { overflow-y: auto; padding: 0; flex: 1; }
        .board-header { padding: 32px 48px; border-bottom: 1px solid var(--glass-border); background: rgba(5,5,5,0.8); backdrop-filter: blur(10px); position: sticky; top: 0; z-index: 10; }
        .board-header h1 { font-family: 'Outfit', sans-serif; font-size: 2rem; margin: 0; background: linear-gradient(to right, #fff, #aaa); -webkit-background-clip: text; -webkit-text-fill-color: transparent; }
        
        /* Cards & Grid */
        .action-panel-grid { padding: 32px 48px; display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 24px; }
        .action-card { background: var(--card-bg); border: 1px solid var(--glass-border); padding: 24px; border-radius: 16px; transition: transform 0.2s; display: flex; flex-direction: column; }
        .action-card:hover { transform: translateY(-4px); border-color: rgba(255,255,255,0.2); }
        .action-card h3 { margin-top: 0; font-family: 'Outfit', sans-serif; color: var(--primary); }
        .action-card p { color: var(--text-muted); font-size: 0.9rem; line-height: 1.5; flex-grow: 1; }
        
        /* Buttons */
        .prime-btn { background: linear-gradient(135deg, var(--primary), #b794f6); color: #000; font-weight: 700; border: none; padding: 12px 24px; border-radius: 10px; cursor: pointer; transition: 0.2s; width: 100%; margin-top: 16px; }
        .prime-btn:disabled { opacity: 0.5; cursor: not-allowed; }
        .prime-btn:hover:not(:disabled) { transform: translateY(-1px); box-shadow: 0 4px 12px rgba(167,139,250,0.3); }
        
        /* Editor & Results */
        .editor-area { margin: 0 48px 48px; background: #0f0f11; border: 1px solid var(--glass-border); border-radius: 16px; padding: 24px; }
        textarea, select { width: 100%; background: #18181b; border: 1px solid var(--glass-border); color: white; padding: 12px; border-radius: 8px; font-family: inherit; margin-bottom: 12px; }
        
        .results-section { margin: 0 48px 48px; display: flex; flex-direction: column; gap: 16px; }
        .result-box { background: rgba(255,255,255,0.03); border: 1px solid var(--glass-border); border-radius: 12px; padding: 20px; border-left: 4px solid var(--primary); }
        .result-box strong { color: #f87171; display: block; margin-bottom: 8px; font-family: 'Outfit', sans-serif; letter-spacing: 0.05em; }
        .code-block { background: #000; padding: 15px; border-radius: 8px; font-family: 'JetBrains Mono', monospace; font-size: 0.85rem; color: var(--primary); white-space: pre-wrap; margin-top: 10px; border: 1px solid var(--glass-border); }
      `}),e.jsxs("div",{className:"mission-control-layout",children:[e.jsxs("aside",{className:"config-sidebar",children:[e.jsx("div",{className:"sidebar-header",children:e.jsx("h3",{children:"âš¡ Phoenix Flow"})}),e.jsxs("div",{className:"input-row",children:[e.jsx("label",{children:"Brand Name"}),e.jsx("input",{value:i.brandName,onChange:r=>x({...i,brandName:r.target.value}),placeholder:"e.g. Iron Phoenix"})]}),e.jsxs("div",{className:"input-row",children:[e.jsx("label",{children:"Store URL"}),e.jsx("input",{value:i.shopifyUrl,onChange:r=>x({...i,shopifyUrl:r.target.value}),placeholder:"https://..."})]}),e.jsx("button",{className:"prime-btn",onClick:()=>c("identity"),disabled:o.identity,children:o.identity?"Analyzing...":"âœ¨ Detect Identity"})]}),e.jsxs("main",{className:"mission-board",children:[e.jsxs("header",{className:"board-header",children:[e.jsx("h1",{children:"Merchant Co-Pilot"}),e.jsx("p",{children:"AI-Powered Optimization Engine"})]}),a.brandIdentity&&e.jsxs("div",{style:{margin:"32px 48px 0",padding:"24px",background:"rgba(167, 139, 250, 0.1)",border:"1px solid var(--primary)",borderRadius:"16px"},children:[e.jsx("h3",{style:{margin:"0 0 10px",color:"var(--primary)",fontFamily:"Outfit"},children:"Identity Detected"}),e.jsxs("p",{children:[e.jsx("strong",{children:"Summary:"})," ",a.brandIdentity.summary]}),e.jsxs("p",{children:[e.jsx("strong",{children:"USP:"})," ",a.brandIdentity.usp]})]}),e.jsxs("div",{className:"action-panel-grid",children:[e.jsxs("div",{className:"action-card",children:[e.jsx("h3",{children:"ðŸ›¡ï¸ Trust & Compliance"}),e.jsx("p",{children:'Scan for Google Merchant Center "Misrepresentation" triggers.'}),e.jsx("button",{className:"prime-btn",onClick:()=>c("audit"),disabled:o.audit,children:o.audit?"Auditing...":"Run Audit"})]}),e.jsxs("div",{className:"action-card",children:[e.jsx("h3",{children:"ðŸ“ Smart Content Editor"}),e.jsx("p",{children:"Rewrite product descriptions, emails, or policies instantly."}),e.jsx("button",{className:"prime-btn",onClick:()=>{var r;return(r=document.getElementById("editor"))==null?void 0:r.scrollIntoView({behavior:"smooth"})},children:"Go to Editor"})]})]}),e.jsxs("div",{id:"editor",className:"editor-area",children:[e.jsx("h3",{style:{fontFamily:"Outfit",marginTop:0},children:"Smart Editor"}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 2fr",gap:"20px"},children:[e.jsxs("div",{children:[e.jsx("label",{style:{display:"block",marginBottom:"8px",fontSize:"0.8rem",color:"#888"},children:"GOAL"}),e.jsxs("select",{value:m,onChange:r=>h(r.target.value),children:[e.jsx("option",{value:"trust",children:"Fix Trust/Compliance"}),e.jsx("option",{value:"seo",children:"SEO Optimization"}),e.jsx("option",{value:"sales",children:"Boost Sales"}),e.jsx("option",{value:"professional",children:"Professional Tone"})]}),e.jsx("button",{className:"prime-btn",onClick:()=>c("editor"),disabled:o.editor,children:o.editor?"Rewriting...":"âœ¨ Optimize"})]}),e.jsx("textarea",{rows:6,placeholder:"Paste your text here (Description, Policy, About Us)...",value:l,onChange:r=>b(r.target.value)})]})]}),e.jsxs("div",{className:"results-section",children:[a.trustAudit&&a.trustAudit.map((r,t)=>e.jsxs("div",{className:"result-box",children:[e.jsxs("strong",{children:["âš ï¸ ",r.issue]}),e.jsx("p",{style:{margin:0,color:"#ddd"},children:r.recommendation})]},`audit-${t}`)),a.contentEdits&&a.contentEdits.map((r,t)=>e.jsxs("div",{className:"result-box",style:{borderLeftColor:"#34d399"},children:[e.jsx("strong",{style:{color:"#34d399"},children:"Result"}),e.jsx("div",{className:"code-block",children:r.editedContent}),e.jsx("p",{style:{marginTop:"10px",fontSize:"0.9rem",color:"#888"},children:r.explanation})]},`edit-${t}`))]})]})]})]})}export{C as default};
