import{R as x,r as j,j as i}from"./index-D3fv15Yl.js";import{u}from"./components-DF02m5MT.js";import{P as f,C as d,T as y}from"./Page-Bppm3941.js";import{T as b}from"./TitleBar-DFMSJ8Yc.js";import{L as c}from"./Layout-CfeWuKp7.js";import{B as s,T as r,a as h,b as l}from"./ButtonGroup-CesFbz1y.js";import{B as v}from"./Banner-DFT9xzSF.js";import{L as o}from"./List-CHgGNzLr.js";import"./use-is-after-initial-mount-DTj1DCv8.js";import"./context-B9JEiQgK.js";import"./banner-context-Bl0rAjEp.js";var S={Divider:"Polaris-Divider"};const k=({borderColor:n="border-secondary",borderWidth:t="025"})=>{const a=n==="transparent"?n:`var(--p-color-${n})`;return x.createElement("hr",{className:S.Divider,style:{borderBlockStart:`var(--p-border-width-${t}) solid ${a}`}})},w=new Proxy({},{get(n,t){throw Error(`shopify.${String(t)} can't be used in a server environment. You likely need to move this code into an Effect.`)}});function z(){if(typeof window>"u")return w;if(!window.shopify)throw Error("The shopify global is not defined. This likely means the App Bridge script tag was not added correctly to this page");return window.shopify}function M(){const n=z(),t=u(),[a,p]=j.useState(""),g=t.state==="submitting"||t.state==="loading",e=t.data,m=()=>{a&&t.submit({url:a,mode:"grade"},{method:"POST",action:"/api/optimizer"})};return i.jsxs(f,{children:[i.jsx(b,{title:"Product Optimizer"}),i.jsxs(c,{children:[i.jsx(c.Section,{children:i.jsx(d,{children:i.jsxs(s,{gap:"400",children:[i.jsx(r,{variant:"headingMd",as:"h2",children:"AI Listing Grader & Optimizer"}),i.jsx(r,{variant:"bodyMd",as:"p",children:"Enter a product URL to grade its SEO, accessibility, and conversion potential."}),i.jsxs(s,{gap:"200",children:[i.jsx(y,{label:"Product URL",value:a,onChange:p,placeholder:"https://mystore.com/products/my-product",autoComplete:"off"}),i.jsx(h,{variant:"primary",onClick:m,loading:g,disabled:!a,children:"Analyze Listing"})]}),(e==null?void 0:e.error)&&i.jsx(v,{tone:"critical",children:i.jsx("p",{children:e.error})})]})})}),(e==null?void 0:e.listingGrade)&&i.jsx(c.Section,{children:i.jsxs(s,{gap:"400",children:[i.jsx(d,{children:i.jsxs(s,{gap:"400",children:[i.jsxs(r,{variant:"headingLg",as:"h2",children:["Grade: ",e.listingGrade.score,"/100"]}),i.jsx(k,{}),i.jsxs(s,{gap:"200",children:[i.jsx(r,{variant:"headingSm",as:"h3",children:"Feedback"}),i.jsxs(o,{children:[i.jsxs(o.Item,{children:[i.jsx("strong",{children:"SEO:"})," ",e.listingGrade.feedback.seo]}),i.jsxs(o.Item,{children:[i.jsx("strong",{children:"Description:"})," ",e.listingGrade.feedback.description]}),i.jsxs(o.Item,{children:[i.jsx("strong",{children:"Photography:"})," ",e.listingGrade.feedback.photography]})]})]})]})}),i.jsx(d,{children:i.jsxs(s,{gap:"400",children:[i.jsx(r,{variant:"headingMd",as:"h2",children:"Optimized Content"}),i.jsx(l,{padding:"400",background:"bg-surface-secondary",borderRadius:"200",children:i.jsxs(s,{gap:"200",children:[i.jsx(r,{variant:"headingSm",as:"h3",children:"Shopify Title (H1)"}),i.jsx(r,{as:"p",children:e.listingGrade.optimization.shopifyProductTitle})]})}),i.jsx(l,{padding:"400",background:"bg-surface-secondary",borderRadius:"200",children:i.jsxs(s,{gap:"200",children:[i.jsx(r,{variant:"headingSm",as:"h3",children:"Meta Description"}),i.jsx(r,{as:"p",children:e.listingGrade.optimization.shopifyMetaDescription})]})}),i.jsx(l,{padding:"400",background:"bg-surface-secondary",borderRadius:"200",children:i.jsxs(s,{gap:"200",children:[i.jsx(r,{variant:"headingSm",as:"h3",children:"Optimized Description"}),i.jsx("div",{dangerouslySetInnerHTML:{__html:e.listingGrade.optimization.optimizedDescription}})]})}),i.jsx(h,{onClick:()=>{n.toast.show("Apply feature coming soon")},children:"Apply to Shopify"})]})})]})})]})]})}export{M as default};
