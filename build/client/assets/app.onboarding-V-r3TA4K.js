import{r as p,j as e}from"./index-D3fv15Yl.js";import{a as v,u as N}from"./components-DF02m5MT.js";import{B as S}from"./Banner-DFT9xzSF.js";import"./banner-context-Bl0rAjEp.js";import"./ButtonGroup-CesFbz1y.js";import"./use-is-after-initial-mount-DTj1DCv8.js";function A(){var j;const{config:a}=v(),o=N(),[d,b]=p.useState((a==null?void 0:a.brandName)||""),[r,c]=p.useState((a==null?void 0:a.etsyUrls)||[""]),[n,h]=p.useState((a==null?void 0:a.shopifyUrls)||[""]),u=o.state==="submitting",f=(j=o.data)==null?void 0:j.success,m=(s,t,l)=>{const i=s==="etsy"?[...r]:[...n];i[t]=l,s==="etsy"?c(i):h(i)},x=s=>{s==="etsy"?c([...r,""]):h([...n,""])},y=(s,t)=>{s==="etsy"&&r.length>1?c(r.filter((l,i)=>i!==t)):s==="shopify"&&n.length>1&&h(n.filter((l,i)=>i!==t))};return e.jsxs("div",{className:"mission-control-layout",children:[e.jsxs("div",{className:"config-sidebar",children:[e.jsx("div",{className:"sidebar-header",children:e.jsx("h3",{children:"Phoenix Flow"})}),e.jsxs("div",{className:"action-card",children:[e.jsx("h2",{children:"Free Tier"}),e.jsxs("p",{children:["Vitals Report: ",e.jsx("b",{children:"Ready"})]}),e.jsxs("p",{className:"tier-info",children:["• Scan up to 5 products",e.jsx("br",{}),"• PDF Misrepresentation Alert",e.jsx("br",{}),"• Manual policy fixes"]}),e.jsx("button",{className:"download-btn",children:"Download PDF Audit"}),e.jsx("div",{className:"upgrade-hint",children:e.jsx("small",{children:"Upgrade to scan 10+ products"})})]})]}),e.jsxs("div",{className:"mission-board",children:[e.jsxs("header",{className:"board-header",children:[e.jsx("h1",{children:"Business Vitals"}),e.jsx("p",{children:"Set up your store details. We'll scan for policy gaps & misrepresentation risks; you choose the fix."})]}),e.jsx("div",{className:"action-panel-grid",children:e.jsxs("div",{className:"brand-identity-setup",children:[e.jsx("h2",{children:"Store Information"}),e.jsx("p",{className:"helper-text",children:"Enter your store details so we can scan for policy violations and misrepresentation risks."}),e.jsx("label",{children:"Store Name"}),e.jsx("input",{type:"text",value:d,onChange:s=>b(s.target.value),placeholder:"e.g., My Handmade Shop"}),e.jsx("div",{className:"manual-entry-divider",children:e.jsx("span",{children:"Etsy Store URLs"})}),r.map((s,t)=>e.jsxs("div",{className:"url-input-group",children:[e.jsx("input",{type:"text",value:s,onChange:l=>m("etsy",t,l.target.value),placeholder:"https://www.etsy.com/shop/example"}),r.length>1&&e.jsx("button",{className:"remove-btn",onClick:()=>y("etsy",t),type:"button",children:"✕"})]},t)),e.jsx("button",{className:"add-url-btn",onClick:()=>x("etsy"),type:"button",children:"+ Add Etsy Store"}),e.jsx("div",{className:"manual-entry-divider",children:e.jsx("span",{children:"Shopify Store URLs"})}),n.map((s,t)=>e.jsxs("div",{className:"url-input-group",children:[e.jsx("input",{type:"text",value:s,onChange:l=>m("shopify",t,l.target.value),placeholder:"https://example.myshopify.com"}),n.length>1&&e.jsx("button",{className:"remove-btn",onClick:()=>y("shopify",t),type:"button",children:"✕"})]},t)),e.jsx("button",{className:"add-url-btn",onClick:()=>x("shopify"),type:"button",children:"+ Add Shopify Store"}),e.jsx("button",{className:"prime-btn",disabled:u||!d,onClick:()=>o.submit({jsonPayload:JSON.stringify({brandName:d,etsyUrls:r.filter(s=>s),shopifyUrls:n.filter(s=>s)})},{method:"POST"}),children:u?"Saving...":"Start Scan"}),f&&e.jsxs(S,{tone:"success",children:["✅ Store Configuration Saved. ",e.jsx("a",{href:"/app/audit",children:"View your Policy Alert Report →"})]})]})})]})]})}export{A as default};
